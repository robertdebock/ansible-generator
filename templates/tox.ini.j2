[tox]
envlist = ansible-2.{12,13,14,15,16,17}
skipsdist = true

[testenv]
commands = molecule test

setenv =
    TOX_ENVNAME={envname}
    PY_COLORS=1
    ANSIBLE_FORCE_COLOR=1
    ANSIBLE_ROLES_PATH=../

passenv = namespace, image, tag, DOCKER_HOST

[testenv:ansible-2.12]
basepython = python3.8
deps =
    -rrequirements.txt
    ansible-core==2.12.*
    ansible-lint==5.*

[testenv:ansible-2.13]
basepython = python3.8
deps =
    -rrequirements.txt
    ansible-core==2.13.*
    ansible-lint==5.*

[testenv:ansible-2.14]
basepython = python3.9
deps =
    -rrequirements.txt
    ansible-core==2.14.*
    ansible-lint==6.*

[testenv:ansible-2.15]
basepython = python3.9
deps =
    -rrequirements.txt
    ansible-core==2.15.*
    ansible-lint==6.*

[testenv:ansible-2.16]
basepython = python3.10
deps =
    -rrequirements.txt
    ansible-core==2.16.*
    ansible-lint==24.*

[testenv:ansible-2.17]
basepython = python3.10
deps =
    -rrequirements.txt
    ansible-core==2.17.*
    ansible-lint==24.*
